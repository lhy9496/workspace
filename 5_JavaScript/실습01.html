<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset='utf-8'>
    <title>Practice01</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <!-- 체크 박스 선택 후 “카테고리 선택“을 누르면 하단 네모에 선택한 카테고리 출력
    이 때, “전체 선택“ 체크 박스 선택 시 모든 카테고리가 선택 되며, 선택 해제 시 모두 선택 해제 됨
    또한 카테고리 체크박스를 전부 선택하면 “전체 선택“ 체크 박스가 선택되고 
    하나라도 선택이 되어있지 않으면 “전체 선택“ 체크 박스는 선택 해제 됨.-->

    <style>
        .area{
            width: 700px;
            height: 150px;
            border: 1px solid red;
        }
    </style>
</head>
<body>
    <form>
        <fieldset>
            <legend>취미</legend>
            <table>
                <tr>
                    <td>
                        <label>
                            <input type="checkbox" name="hobby" value="전체선택" id="all" onchange="allCheck()">전체선택
                        </label>
                    </td>
                    <td>
                        <label>
                            <input type="checkbox" name="hobby" value="종합" onchange="checkTrigger()">종합
                        </label>
                    </td>
                    <td>
                        <label>
                            <input type="checkbox" name="hobby" value="소설" onchange="checkTrigger()">소설
                        </label>
                    </td>
                    <td>
                        <label>
                            <input type="checkbox" name="hobby" value="시/에세이" onchange="checkTrigger()">시/에세이
                        </label>
                    </td>
                    <td>
                        <label>
                            <input type="checkbox" name="hobby" value="경제/경영" onchange="checkTrigger()">경제/경영
                        </label>
                    </td>
                    <td>
                        <label>
                            <input type="checkbox" name="hobby" value="자기계발" onchange="checkTrigger()">자기계발
                        </label>
                    </td>
                    <td>
                        <label>
                            <input type="checkbox" name="hobby" value="아동" onchange="checkTrigger()">아동
                        </label>
                    </td>
                </tr>
                <tr>
                    <td></td>
                    <td>
                        <label>
                            <input type="checkbox" name="hobby" value="여행" onchange="checkTrigger()">여행
                        </label>
                    </td>
                    <td>
                        <label>
                            <input type="checkbox" name="hobby" value="과학" onchange="checkTrigger()">과학
                        </label>
                    </td>
                    <td>
                        <label>
                            <input type="checkbox" name="hobby" value="역사/문화" onchange="checkTrigger()">역사/문화</label>
                    </td>
                    <td>
                        <label>
                            <input type="checkbox" name="hobby" value="외국어" onchange="checkTrigger()">외국어
                        </label>
                    </td>
                    <td><label>
                            <input type="checkbox" name="hobby" value="컴퓨터" onchange="checkTrigger()">컴퓨터
                        </label>
                    </td>
                    <td>
                        <label>
                            <input type="checkbox" name="hobby" value="만화" onchange="checkTrigger()">만화
                        </label>
                    </td>
                </tr>
            </table>
        </fieldset>
    </form>
    
    <br>

    <button onclick="accessHobby()">카테고리 선택</button>
    <div id="hobbyarea" class="area" ></div>
    
    

    <script>
        function allCheck(){
            let allCheckBox = document.getElementById('all');
            
            let hobbyList = document.getElementsByName('hobby');
            for(let checkbox of hobbyList){
                checkbox.checked = allCheckBox.checked;
            }
        }

        function accessHobby(){
            let hobbyList = document.getElementsByName("hobby");

            let area = document.getElementById("hobbyarea");
            area.innerHTML = "";

            for(let checkbox of hobbyList){
                if (checkbox.checked && checkbox.value != "전체선택"){
                    area.innerHTML += (checkbox.value +" ");
                }
            }
        }

        function checkTrigger(){
            let allCheck = true;

            let hobbyList = document.getElementsByName('hobby');
            for (let checkBox of hobbyList){
                if (checkBox.value =="전체선택"){
                    continue;
                }

                if(!checkBox.checked){
                    allCheck = false;
                }
            }

            let allCheckBox = document.getElementById("all");
            allCheckBox.checked = allCheck;
        }
    </script>
</body>
</html>
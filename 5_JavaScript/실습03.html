<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset='utf-8'>
    <title>Page Title</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <style>
        
        div{
            display: inline;
        }
    </style>
</head>
<body>
    <fieldset>
        <legend>회원가입</legend>
        아이디 : <input type="text" id="userId" onkeyup="idCheck();"> <div id="idResult" class="result"></div> <br><br>
        비밀번호 : <input type="password" id="userPwd"> <br><br>
        비밀번호 확인 : <input type="password" id="pwdAgain" onkeyup="pwdCheck();"> <div id="pwdResult" class="result"></div> <br><br>
        이름 : <input type="text" id="userName"> <br><br>
        <button onclick="signIn();">회원가입</button>
    </fieldset>

    <script>
            let userId = document.getElementById("userId");
            let idResult = document.getElementById("idResult");
            let userPwd = document.getElementById("userPwd");
            let pwdAgain = document.getElementById("pwdAgain");
            let pwdResult = document.getElementById("pwdResult");
            let userName = document.getElementById("userName");
        function idCheck(){
            if(userId.value == ""){
                idResult.innerHTML = "";
            }else if (userId.value == "user01"){
                idResult.style.color = "red";
                idResult.innerHTML = "이미 존재하는 아이디입니다.";
            } else {
                idResult.style.color = "green";
                idResult.innerHTML = "사용 가능한 아이디입니다.";
            }
        }
        
        function pwdCheck(){
            if(pwdAgain.value == ""){
                pwdResult.innerHTML = "";
            } else if (userPwd.value == pwdAgain.value){
                pwdResult.style.color = "green"; 
                pwdResult.innerHTML = "비밀번호가 일치합니다.";
            } else {
                pwdResult.style.color = "red";
                pwdResult.innerHTML = "비밀번호가 일치하지 않습니다.";
            }
        }

        function signIn(){


            if(userId.value == ""){
                alert("'아이디를 입력해주세요'");
                userId.focus();
                return;
            } else if (userPwd.value == ""){
                alert("'비밀번호를 입력해주세요'")
                userPwd.focus();
                return;
            } else if (pwdAgain.value == ""){
                alert("'비밀번호 확인을 입력해주세요'")
                pwdAgain.focus();
                return;
            } else if (userName.value == ""){
                alert("'이름을 입력해주세요'");
                userName.focus();
                return;
            }

            if(idResult.style.color == "red"){
                alert("'사용할 수 없는 아이디입니다'");
                userId.value = "";
                userId.focus();
            } else if(pwdResult.style.color == "red"){
                alert("'비밀번호가 일치하지 않습니다'")
                pwdAgain.value = "";
                pwdAgain.focus();
            }

            if (idResult.style.color == "green" && pwdResult.style.color == "green" && userName.value != ""){
                alert("'" + userName.value + "님, 회원가입이 성공적으로 완료되었습니다^^'");
                userId.value = "";
                userPwd.value = "";
                pwdAgain.value = "";
                userName.value = "";
                idResult.innerHTML = "";
                pwdResult.innerHTML = "";
            } 
        }
    </script>
</body>
</html>